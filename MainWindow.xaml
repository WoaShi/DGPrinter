<Window x:Class="DGPrinter.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="DGPrinter" Height="700" Width="400" 
        WindowStartupLocation="CenterScreen" ResizeMode="CanMinimize">

    <Window.Resources>
        <Style TargetType="Button">
            <Setter Property="Padding" Value="10,5"/>
            <Setter Property="Margin" Value="0,5"/>
        </Style>
        <Style TargetType="GroupBox">
            <Setter Property="Margin" Value="5"/>
            <Setter Property="Padding" Value="5"/>
        </Style>
    </Window.Resources>

    <Grid Margin="10">
        <ScrollViewer>
            <StackPanel>
                <TextBlock Text="DGPrinter" FontSize="20" FontWeight="Bold" Margin="0,0,0,10" HorizontalAlignment="Center"/>

                <GroupBox Header="1. Source Image">
                    <Button x:Name="BtnImage" Content="Select Image File..." Click="BtnImage_Click"/>
                </GroupBox>

                <GroupBox Header="2. Areas Configuration">
                    <StackPanel>
                        <Button x:Name="BtnCanvas" Content="Set Drawing Canvas" Click="BtnCanvas_Click"/>
                        <TextBlock x:Name="TxtStatusCanvas" Text="Not Set" Foreground="Gray" FontSize="11" Margin="0,0,0,5"/>

                        <Button x:Name="BtnColorBtn" Content="Set Color Button Area" Click="BtnColorBtn_Click"/>
                        <TextBlock x:Name="TxtStatusBtn" Text="Not Set" Foreground="Gray" FontSize="11" Margin="0,0,0,5"/>

                        <Button x:Name="BtnPicker" Content="Set Color Picker Region" Click="BtnPicker_Click"/>
                        <TextBlock x:Name="TxtStatusPicker" Text="Not Set" Foreground="Gray" FontSize="11" Margin="0,0,0,5"/>

                        <Button x:Name="BtnClosePicker" Content="Set Close Picker Button" Click="BtnClosePicker_Click"/>
                        <TextBlock x:Name="TxtStatusClosePicker" Text="Not Set" Foreground="Gray" FontSize="11"/>
                    </StackPanel>
                </GroupBox>

                <GroupBox Header="3. Settings">
                    <StackPanel>
                        <TextBlock Text="Drawing Mode:"/>
                        <ComboBox x:Name="ComboMode" SelectedIndex="0" Margin="0,0,0,10">
                            <ComboBoxItem Content="Mode 1: Binary (Fast Fill)"/>
                            <ComboBoxItem Content="Mode 2: Colored Edges"/>
                            <ComboBoxItem Content="Mode 3: Color Blocks (8-Colors)"/>
                        </ComboBox>

                        <!-- 修改点：移除了输入框，改为显示预测时间 -->
                        <TextBlock Text="Estimated Duration:"/>
                        <TextBlock x:Name="TxtPrediction" Text="Waiting to start..." 
                                   Foreground="#0078D7" FontWeight="Bold" FontSize="14" Margin="0,5,0,0"/>
                    </StackPanel>
                </GroupBox>

                <!-- 4. Controls -->
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,20">
                    <Button x:Name="BtnStart" Content="Start Painting" Width="120" Height="40" Background="#DDDDDD" Click="BtnStart_Click"/>
                    <Button x:Name="BtnCancel" Content="Stop (F10)" Width="80" Margin="10,0" Visibility="Collapsed" Click="BtnCancel_Click"/>
                </StackPanel>

                <TextBlock Text="Press F10 to Stop immediately" Foreground="Red" FontSize="10" HorizontalAlignment="Center"/>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</Window>